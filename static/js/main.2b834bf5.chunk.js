(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{24:function(e,t,a){e.exports=a(55)},35:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=a(1),m=a(3),s=a(22),i=Object(m.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER":return t.payload;default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION":return t.payload;case"FETCH_LOCATION_ERROR":default:return e}},tempScale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"celsius",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_TEMP_SCALE":return"celsius"===e?"fahrenheit":"celsius";default:return e}}}),u=(a(35),a(5)),d=a.n(u),p=a(7),E=a(11),h=a.n(E),f="1271256593c8dcf1f9d4048d228181a2",b=function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(f));case 2:r=a.sent,console.log(r),n({type:"FETCH_WEATHER",payload:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(f)).then((function(e){a({type:"FETCH_LOCATION",payload:e.data})})).catch((function(e){a({type:"FETCH_LOCATION_ERROR"})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(v(e));case 2:return r=n().location.coord,t.next=5,a(b(r.lat,r.lon));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},w=a(23),N=Object(o.b)(null,{fetchWeatherAndLocation:g})((function(e){var t=e.fetchWeatherAndLocation,a=Object(n.useState)(""),c=Object(w.a)(a,2),l=c[0],o=c[1],m=function(e){e.preventDefault();try{t(l)}catch(a){console.log("gg")}};return r.a.createElement("form",{onSubmit:m,className:"w-100 searchbar"},r.a.createElement("div",{className:"input-group mb-2 mt-2"},r.a.createElement("input",{className:"form-control",type:"search",placeholder:"Enter a city",value:l,onChange:function(e){o(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-tooltip"},"Please provide a valid city."),r.a.createElement("div",{className:"input-group-append",onClick:m},r.a.createElement("button",{className:"btn orange text-white",type:"button"},"Search"))))})),x=Object(o.b)((function(e){return{tempScale:e.tempScale}}),{toggleTempScale:function(){return{type:"TOGGLE_TEMP_SCALE"}}})((function(e){var t=e.tempScale,a=e.toggleTempScale,n="celsius"===t?"bolder":"normal",c="fahrenheit"===t?"bolder":"normal";return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark row mb-4 pt-4 pb-4 text-center"},r.a.createElement("div",{className:"col-sm-2 text-center"},r.a.createElement("img",{className:"img-fluid ",src:"https://openweathermap.org/themes/openweathermap/assets/img/logo_white_cropped.png",style:{maxWidth:"100px",height:"auto"},alt:"logo"})),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(N,null)),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("button",{onClick:function(){a()},type:"button",className:"btn btn-light w-100"},r.a.createElement("span",{style:{fontWeight:n}},"\xb0C")," /"," ",r.a.createElement("span",{style:{fontWeight:c}},"\xb0F"))))})),y=Object(o.b)((function(e){return{weather:e.weather,location:e.location}}))((function(e){var t=e.weather,a=e.location,n=e.temperature;return r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement("h2",{className:"location-name"},a.name),r.a.createElement("h4",{className:"weather-short-description"},t.current.weather[0].main),r.a.createElement("h1",{className:"display-1 ml-3"},n(t.current.temp)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("p",{className:"mx-1"},"H:",n(t.daily[0].temp.max)),r.a.createElement("p",{className:"mx-1"},"L:",n(t.daily[0].temp.min))))})),k=a(4),O=a.n(k),T=Object(o.b)((function(e){return{hourly:e.weather.hourly}}))((function(e){var t=e.hourly,a=e.temperature;return r.a.createElement("div",{className:"d-flex flex-row overflow-auto border-top border-bottom pb-2 pt-2"},t.map((function(e,t){if(t<27){var n=0===t?"Now":O.a.unix(e.dt).format("HH");return r.a.createElement("div",{className:"d-flex flex-column col-2 align-items-center px-4 ",key:e.dt},r.a.createElement("p",{style:"Now"===n?{fontWeight:"bolder"}:{fontWeight:"normal"}},n),r.a.createElement("p",{className:"text-primary"},e.pop>0?Math.round(100*e.pop)+"%":""),r.a.createElement("figure",null,r.a.createElement("img",{className:"img-fluid weather-img",src:" http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@4x.png"),alt:e.weather[0].description})),r.a.createElement("p",{className:""},a(e.temp)))}return null})))})),j=Object(o.b)((function(e){return{weather:e.weather.daily}}))((function(e){var t=e.weather,a=e.temperature;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mb-4 list-group list-group-flush"},r.a.createElement("div",{className:"list-group-item d-flex justify-content-between align-items-center row px-0 py-md-0 border-bottom text-center day-header"},r.a.createElement("div",{className:"col text-left d-none d-md-block d-lg-block d-xl-block text-muted"},r.a.createElement("small",null,"DAY")),r.a.createElement("div",{className:"col d-none d-md-block d-lg-block d-xl-bloc text-mutedk"}),r.a.createElement("div",{className:"col d-none d-md-block d-lg-block d-xl-block text-muted"},r.a.createElement("small",null,"CHANCE OF RAIN")),r.a.createElement("div",{className:"col d-none d-md-block d-lg-block d-xl-block text-muted"},r.a.createElement("small",null,"HUMIDITY")),r.a.createElement("div",{className:"col text-right d-none d-md-block d-lg-block d-xl-block text-muted"},r.a.createElement("small",null,"TEMPERATURE"))),t.map((function(e,t){return 0===t?null:r.a.createElement("div",{key:e.dt,className:"list-group-item d-flex justify-content-between align-items-center row px-0 py-md-0 border-bottom"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"mb-0"},O.a.unix(e.dt).format("dddd"))),r.a.createElement("div",{className:"col px-2 text-center"},r.a.createElement("img",{className:"img-fluid weather-img",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@4x.png"),alt:e.weather[0].description})),r.a.createElement("div",{className:"col d-none d-md-block d-lg-block d-xl-block text-center"},Math.round(100*e.pop),"%"),r.a.createElement("div",{className:"col d-none d-md-block text-center"},e.humidity,"%"),r.a.createElement("div",{className:"col d-flex flex-row justify-content-end"},r.a.createElement("p",{className:" mb-0"},a(e.temp.max)),r.a.createElement("p",{className:" ml-2 mb-0"},a(e.temp.min))))}))))})),S=function(e){switch(!0){case e<22.5:return"n";case e<45:return"nne";case e<67.5:return"ne";case e<90:return"ene";case e<112.5:return"e";case e<135:return"ese";case e<157.5:return"se";case e<180:return"sse";case e<202.5:return"s";case e<225:return"ssw";case e<247.5:return"sw";case e<270:return"wsw";case e<292.5:return"w";case e<315:return"wnw";case e<337.5:return"nnw";default:return"nw"}},C=function(e){var t=e.description,a=e.value;return r.a.createElement("li",{className:"list-group-item  pl-md-2 col text-md-center weather-description bg-dark text-white"},r.a.createElement("small",{className:"text-muted"},t),r.a.createElement("h5",{className:"mb-0 font-weight-normal"},a))},I=Object(o.b)((function(e){return{weather:e.weather}}))((function(e){var t=e.weather,a=e.temperature;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row list-group-flush flex-column flex-md-row justify-content-center border-bottom  border-dark"},r.a.createElement(C,{description:"SUNRISE",value:O.a.unix(t.current.sunrise).format("HH:MM")}),r.a.createElement(C,{description:"SUNSET",value:O.a.unix(t.current.sunset).format("HH:MM")}),r.a.createElement(C,{description:"CHANCE OF RAIN",value:"".concat(Math.round(100*t.hourly[0].pop),"%")}),r.a.createElement(C,{description:"HUMIDITY",value:"".concat(t.current.humidity,"%")}),r.a.createElement(C,{description:"WIND",value:"".concat(S(t.current.wind_deg)," ").concat(Math.round(t.current.wind_speed)," km/hr")})),r.a.createElement("div",{className:"row list-group-flush flex-column flex-md-row justify-content-center  border-bottom border-dark "},r.a.createElement(C,{description:"FEELS LIKE",value:a(t.current.feels_like)}),r.a.createElement(C,{description:"PRECIPITATION",value:t.daily[0].rain?"".concat(t.daily[0].rain," cm"):"0%"}),r.a.createElement(C,{description:"PRESSURE",value:"".concat(t.current.pressure," hPa")}),r.a.createElement(C,{description:"VISIBILITY",value:"".concat(t.current.visibility/100," km")}),r.a.createElement(C,{description:"UV INDEX",value:t.current.uvi})))})),A=Object(o.b)((function(e){return{weather:e.weather,location:e.location,tempScale:e.tempScale}}),{fetchWeatherAndLocation:g})((function(e){var t=e.weather,a=e.location,c=e.fetchWeatherAndLocation,l=e.tempScale;Object(n.useEffect)((function(){c("London")}),[c]);var o=function(e){return"celsius"===l?(t=e,"".concat(Math.round(t-273.15),"\xb0")):function(e){return"".concat(Math.round(1.8*(e-273.15)+32),"\xb0")}(e);var t};return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{className:""},0!==Object.keys(t).length&&0!==Object.keys(a).length?r.a.createElement("div",{className:"mb-5"},r.a.createElement("div",{className:"row justify-content-center align-items-center"},r.a.createElement("div",{className:"col-md-4 order-md-1"},r.a.createElement(y,{temperature:o})),r.a.createElement("div",{className:"col-md-8 order-md-2"},r.a.createElement(T,{temperature:o})),r.a.createElement("div",{className:"col-md-12 order-md-5 mt-5"},r.a.createElement(j,{temperature:o})),r.a.createElement("div",{className:"col-md-12 order-md-4 bg-dark pt-5 pb-5"},r.a.createElement(I,{temperature:o})),r.a.createElement("div",{className:"col-12 my-5 text-center order-md-2"},"Today: ",t.current.weather[0].description,". The high will be"," ",o(t.daily[0].temp.max),". The low tonight will be"," ",o(t.daily[0].temp.night),"."))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))))})),H=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(A,null))};l.a.render(r.a.createElement(o.a,{store:Object(m.d)(i,Object(m.a)(s.a))},r.a.createElement(H,null)),document.querySelector("#root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.2b834bf5.chunk.js.map